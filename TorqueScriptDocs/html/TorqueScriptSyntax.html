<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TorqueScript Reference: TorqueScript Syntax</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="t2d-stylesheet-extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TorqueScript Reference
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">TorqueScript Syntax</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md14"></a>
Main Rules</h1>
<p>Like other languages, TorqueScript has certain syntactical rules you need to follow. The language is very forgiving, easy to debug, and is not as strict as a low level language like C++. Observe the following line in a script:</p>
<div class="fragment"><div class="line"><span class="comment">// Create test variable with a temporary variable</span></div>
<div class="line">%testVariable = 3;</div>
</div><!-- fragment --><p> The three most simple rules obeyed in the above code are:</p>
<ol type="1">
<li>Ending a line with a semi-colon (;)</li>
<li>Proper use of white space.</li>
<li>Commenting</li>
</ol>
<p>The engine will parse code line by line, stopping whenever it reaches a semi-colon. This is referred to as a statement termination, common to other programming languages such as C++, Javascript, etc. The following code will produce an error that may cause your entire script to fail:</p>
<div class="fragment"><div class="line">%testVariable = 3</div>
<div class="line">%anotherVariable = 4;</div>
</div><!-- fragment --><p>To the human eye, you are able to discern two separate lines of code with different actions. Here is how the script compiler will read it:</p>
<div class="fragment"><div class="line">%testVariable = 3%anotherVariable = 4;</div>
</div><!-- fragment --><p>This is obviously not what the original code was meant to do. There are exemptions to this rule, but they come into play when multiple lines of code are supposed to work together for a single action:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span>(%testVariable == 4)</div>
<div class="line">  <a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Variable equals 4&quot;</span>);</div>
<div class="ttc" id="agroup__ConsoleOutput_html_gadc918a80dc292eeae84dcca04998faba"><div class="ttname"><a href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a></div><div class="ttdeci">void echo(text, [...] *)</div><div class="ttdef"><b>Definition</b> output_ScriptBinding.h:36</div></div>
</div><!-- fragment --><p>We have not covered conditional operators or echo commands yet, but you should notice that the first line does not have a semi-colon. The easiest explanation is that the code is telling the compiler: "Read the first line, do the second line if we meet the requirements." In other words, perform operations between semi-colons. Complex operations require multiple lines of code working together.</p>
<p>The second rule, proper use of whitespace, is just as easy to remember. Whitespace refers to how your script code is separated between operations. Let's look at the first example again:</p>
<div class="fragment"><div class="line">%testVariable = 3;</div>
</div><!-- fragment --><p>The code is storing a value (3) in a local variable (<code>%testVariable</code>). It is doing so by using a common mathematical operator, the equal sign. TorqueScript recognizes the equal sign and performs the action just as expected. It does not care if there are spaces in the operation:</p>
<div class="fragment"><div class="line">%testVariable=3;</div>
</div><!-- fragment --><p>The above code works just as well, even without the spaces between the variable, the equal sign, and the 3. The whitespace rule makes a lot more sense when combined with the semi-colon rule and multiple lines of code working together. The following will compile and run without error:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span>(%testVariable == 4) <a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Variable equals 4&quot;</span>);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md15"></a>
Comments</h1>
<p>The last rule is optional, but should be used as often as possible if you want to create clean code. Whenever you write code, you should try to use comments. Comments are a way for you to leave notes in code which are not compiled into the game. The compiler will essentially skip over these lines.</p>
<p>There are two different comment syntax styles. The first one uses the two slashes, <code>//</code>. This is used for single line comments:</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="comment">// This comment line will be ignored</span></div>
<div class="line"><span class="comment">// This second line will also be ignored</span></div>
<div class="line">%testVariable = 3;</div>
<div class="line"><span class="comment">// This third line will also be ignored</span></div>
</div><!-- fragment --><p>In the last example, the only line of code that will be executed has to do with <code>%testVariable</code>. If you need to comment large chunks of code, or leave a very detailed message, you can use the <code>/*comment*/</code> syntax. The <code>/*</code> starts the commenting, the <code>*/</code> ends the commenting, and anything in between will be considered a comment.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">While attending school, an instructor taught a mantra I still use:</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">&quot;Read. Read Code. Code.&quot;</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">Applying this to Torque 2D development is easy: </span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">READ the documentation first. </span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">READ CODE written by other Torque developers.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">CODE your own prototypes based on what you have learned.</span></div>
<div class="line"><span class="comment">*/</span></div>
</div><!-- fragment --><p>As you can see, the comment makes full use of whitespace and multiple lines. While it is important to comment what the code does, you can also use this to temporarily remove unwanted code until a better solution is found:</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="comment">// Why are you using multiple if statements. Why not use a switch$?</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">if(%testVariable == &quot;Mich&quot;)</span></div>
<div class="line"><span class="comment">  echo(&quot;User name: &quot;, %testVariable);</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">if(%testVariable == &quot;Heather&quot;)</span></div>
<div class="line"><span class="comment">  echo(&quot;User Name: &quot;, %testVariable);</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">if(%testVariable == &quot;Nikki&quot;)</span></div>
<div class="line"><span class="comment">  echo(&quot;User Name: &quot;, %testVariable);</span></div>
<div class="line"><span class="comment">*/</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md16"></a>
Variables</h1>
<h2><a class="anchor" id="autotoc_md17"></a>
Usage</h2>
<p>Now that you know the two most basic rules of writing code in TorqueScript, this is the best time to learn about variables. A variable is a letter, word, or phrase linked to a value stored in your game's memory and used during operations. Creating a variable is a one line process. The following code creates a variable by naming it and assigning a value:</p>
<div class="fragment"><div class="line">%localVariable = 3;</div>
</div><!-- fragment --><p>You can assign any type value to the variable you want. This is referred to as a language being type-insensitive. TorqueScript does not care (insensitive) what you put in a variable, even after you have created it. The following code is completely valid:</p>
<div class="fragment"><div class="line">%localVariable = 27;</div>
<div class="line">%localVariable = <span class="stringliteral">&quot;Heather&quot;</span>;</div>
<div class="line">%localVariable = <span class="stringliteral">&quot;7 7 7&quot;</span>;</div>
</div><!-- fragment --><p>The main purpose of the code is to show that TorqueScript treats all data types the same way. It will interpret and convert the values internally, so you do not have to worry about typecasting. That may seem a little confusing. After all, when would you want a variable that can store a number, a string, or a vector?</p>
<p>You will rarely need to, which is why you want to start practicing good programming habits. An important practice is proper variable naming. The following code will make a lot more sense, considering how the variables are named:</p>
<div class="fragment"><div class="line">%userName = <span class="stringliteral">&quot;Heather&quot;</span>;</div>
<div class="line">%userAge = 27;</div>
<div class="line">%userScores = <span class="stringliteral">&quot;7 7 7&quot;</span>;</div>
</div><!-- fragment --><p>Earlier, I mentioned that TorqueScript is more forgiving than low level programming languages. While it expects you to obey the basic syntax rules, it will allow you to get away with small mistakes or inconsistency. The best example is variable case sensitivity. At some point in school you learned the difference between upper case and lower case letters.</p>
<p>With variables, TorqueScript is not case sensitive. You can create a variable and refer to it during operations without adhering to case rules:</p>
<div class="fragment"><div class="line">%userName = <span class="stringliteral">&quot;Heather&quot;</span>;</div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(%Username);</div>
</div><!-- fragment --><p>In the above code, <code>%userName</code> and <code>%Username</code> are the same variable, even though they are using different capitalization. You should still try to remain consistent in your variable naming and usage, but you will not be punished if you slip up occasionally.</p>
<h2><a class="anchor" id="autotoc_md18"></a>
Variable Types</h2>
<p>There are two types of variables you can declare and use in TorqueScript: local and global. Both are created and referenced similarly:</p>
<div class="fragment"><div class="line">%localVariable = 1;</div>
<div class="line">$globalVariable = 2;</div>
</div><!-- fragment --><p>As you can see, local variable names are preceded by the percent sign <code>(%%)</code>. Global variables are preceded by the dollar sign <code>($)</code>. Both types can be used in the same manner: operations, functions, equations, etc. The main difference has to do with how they are scoped.</p>
<p>In programming, scoping refers to where in memory a variable exists and its life. A local variable is meant to only exist in specific blocks of code, and its value is discarded when you leave that block. Global variables are meant to exist and hold their value during your entire programs execution. Look at the following code to see an example of a local variable:</p>
<div class="fragment"><div class="line">function test()</div>
<div class="line">{</div>
<div class="line">   %userName = <span class="stringliteral">&quot;Heather&quot;</span>;</div>
<div class="line">   <a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(%userName);</div>
<div class="line">}</div>
</div><!-- fragment --><p>We will cover functions a little later, but you should know that functions are blocks of code that only execute when you call them by name. This means the variable, <code>%userName</code>, does not exist until the test() function is called. When the function has finished all of its logic, the <code>%userName</code> variable will no longer exist. If you were to try to access the %userName variable outside of the function, you will get nothing.</p>
<p>Most variables you will work with are local, but you will eventually want a variables that last for your entire game. These are extremely important values used throughout the project. This is when global variables become useful. For the most part, you can declare global variables whenever you want:</p>
<div class="fragment"><div class="line">$PlayerName = <span class="stringliteral">&quot;Heather&quot;</span>;</div>
<div class="line"> </div>
<div class="line">function printPlayerName()</div>
<div class="line">{</div>
<div class="line">   <a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>($PlayerName);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">function setPlayerName()</div>
<div class="line">{</div>
<div class="line">   $PlayerName = <span class="stringliteral">&quot;Nikki&quot;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The above code makes full use of a global variable that holds a player's name. The first declaration of the variable happens outside of the functions, written anywhere in your script. Because it is global, you can reference it in other locations, including separate script files. Once declared, your game will hold on to the variable until shutdown.</p>
<h2><a class="anchor" id="autotoc_md19"></a>
Data Types</h2>
<p>TorqueScript implicitly supports several variable data-types: numbers, strings, booleans, and arrays and vectors. If you wish to test the various data types, you can use the echo(...) command. For example:</p>
<div class="fragment"><div class="line">%meaningOfLife = 42;</div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(%meaningOfLife);</div>
<div class="line"> </div>
<div class="line">$name = <span class="stringliteral">&quot;Heather&quot;</span>;</div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>($name);</div>
</div><!-- fragment --><p>The echo will post the results in the console, which can be accessed by pressing the ctrl+tilde key (<code>~</code>) while in game.</p>
<h2><a class="anchor" id="autotoc_md20"></a>
Numbers</h2>
<p>TorqueScript handles standard numeric types</p>
<div class="fragment"><div class="line">123     (<a class="code hl_typedef" href="group__TorqueScriptTypes.html#ga85be84504cf913ad90b8ee4f264195d3">Integer</a>)</div>
<div class="line">1.234   (floating point)</div>
<div class="line">1234e-3 (scientific notation)</div>
<div class="line">0xc001  (hexadecimal)</div>
<div class="ttc" id="agroup__TorqueScriptTypes_html_ga85be84504cf913ad90b8ee4f264195d3"><div class="ttname"><a href="group__TorqueScriptTypes.html#ga85be84504cf913ad90b8ee4f264195d3">Integer</a></div><div class="ttdeci">type Integer</div><div class="ttdef"><b>Definition</b> core_ScriptBinding.dox:83</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md21"></a>
Strings</h2>
<p>Text, such as names or phrases, are supported as strings. Numbers can also be stored in string format. Standard strings are stored in double-quotes.</p>
<div class="fragment"><div class="line"><span class="stringliteral">&quot;abcd&quot;</span></div>
</div><!-- fragment --><p>Example:</p>
<div class="fragment"><div class="line">$UserName = <span class="stringliteral">&quot;Heather&quot;</span>;</div>
</div><!-- fragment --><p>Strings with single quotes are called "tagged strings."</p>
<div class="fragment"><div class="line"><span class="stringliteral">&#39;abcd&#39;</span>  (tagged string)</div>
</div><!-- fragment --><p>Tagged strings are special in that they contain string data, but also have a special numeric tag associated with them. Tagged strings are used for sending string data across a network. The value of a tagged string is only sent once, regardless of how many times you actually do the sending.</p>
<p>On subsequent sends, only the tag value is sent. Tagged values must be de-tagged when printing. You will not need to use a tagged string often unless you are in need of sending strings across a network often, like a chat system.</p>
<p>Example:</p>
<div class="fragment"><div class="line">$a = <span class="stringliteral">&#39;This is a tagged string&#39;</span>;</div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;  Tagged string: &quot;</span>, $a);</div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Detagged string: &quot;</span>, <a class="code hl_function" href="group__TaggedStrings.html#ga55d22abc645afba4556c1d911563faed">detag</a>(<span class="stringliteral">&#39;$a&#39;</span>));</div>
<div class="ttc" id="agroup__TaggedStrings_html_ga55d22abc645afba4556c1d911563faed"><div class="ttname"><a href="group__TaggedStrings.html#ga55d22abc645afba4556c1d911563faed">detag</a></div><div class="ttdeci">String detag(tagID)</div><div class="ttdef"><b>Definition</b> taggedStrings_ScriptBinding.h:37</div></div>
</div><!-- fragment --><p>The output will be similar to this:</p>
<div class="fragment"><div class="line">24</div>
<div class="line">___</div>
</div><!-- fragment --><p>The second echo will be blank unless the string has been passed to you over a network.</p>
<h2><a class="anchor" id="autotoc_md22"></a>
String Operators</h2>
<p>There are special values you can use to concatenate strings and variables. Concatenation refers to the joining of multiple values into a single variable. The following is the basic syntax:</p>
<div class="fragment"><div class="line"><span class="stringliteral">&quot;string 1&quot;</span> operation <span class="stringliteral">&quot;string 2&quot;</span></div>
</div><!-- fragment --><p>You can use string operators similarly to how you use mathematical operators (=, +, -, *). You have four operators at your disposal:</p>
<p><b>String Operators</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Operator   </th><th class="markdownTableHeadCenter">Name   </th><th class="markdownTableHeadCenter">Example   </th><th class="markdownTableHeadNone">Explanation    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">@   </td><td class="markdownTableBodyCenter">String concatenation   </td><td class="markdownTableBodyCenter"><code>$c @ $d</code>   </td><td class="markdownTableBodyNone">Concatenates strings $c and $d into a single string. Numeric literals/variables convert to strings.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">NL   </td><td class="markdownTableBodyCenter">New Line   </td><td class="markdownTableBodyCenter"><code>$c NL $d</code>   </td><td class="markdownTableBodyNone">Concatenates strings $c and $d into a single string separated by new-line.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TAB   </td><td class="markdownTableBodyCenter">Tab   </td><td class="markdownTableBodyCenter"><code>$c TAB $d</code>   </td><td class="markdownTableBodyNone">Concatenates strings $c and $d into a single string separated by tab.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SPC   </td><td class="markdownTableBodyCenter">Space   </td><td class="markdownTableBodyCenter"><code>$c SPC $d</code>   </td><td class="markdownTableBodyNone">Concatenates strings $c and $d into a single string separated by space. Note: such a string can be decomposed with <a class="el" href="group__FieldManipulatorFunctions.html#gab9848b8f9ac4309659e4412700fa969b">getWord()</a>   </td></tr>
</table>
<p>The <code>@</code> symbol will concatenate two strings together exactly how you specify, without adding any additional whitespace:</p>
<p>Note: Do not type in OUTPUT: ___. This is placed in the sample code to show you what the console would display</p>
<p>Example: </p><div class="fragment"><div class="line">%newString = <span class="stringliteral">&quot;Hello&quot;</span> @ <span class="stringliteral">&quot;World&quot;</span>;</div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(%newString);</div>
<div class="line"> </div>
<div class="line">OUTPUT: HelloWorld</div>
</div><!-- fragment --><p>Notice how the two strings are joined without any spaces. If you include whitespace, it will be concatenated along with the values:</p>
<p>Example: </p><div class="fragment"><div class="line">%newString = <span class="stringliteral">&quot;Hello &quot;</span> @ <span class="stringliteral">&quot;World&quot;</span>;</div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(%newString);</div>
<div class="line"> </div>
<div class="line">OUTPUT: Hello World</div>
</div><!-- fragment --><p>String operators work with variables as well:</p>
<p>Example: </p><div class="fragment"><div class="line">%hello = <span class="stringliteral">&quot;Hello &quot;</span>;</div>
<div class="line">%world = <span class="stringliteral">&quot;World&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(%hello @ %world);</div>
<div class="line"> </div>
<div class="line">OUTPUT: Hello World</div>
</div><!-- fragment --><p>The rest of the operators will apply whitespace for you, so you do not have to include it in your values:</p>
<p>Example: </p><div class="fragment"><div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Hello&quot;</span> @ <span class="stringliteral">&quot;World&quot;</span>);</div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Hello&quot;</span> <a class="code hl_typedef" href="group__StringOperators.html#gab83c1b39c9138720059c3f543a18cd55">TAB</a> <span class="stringliteral">&quot;World&quot;</span>);</div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Hello&quot;</span> <a class="code hl_typedef" href="group__StringOperators.html#gabf1384363ad54002ac32ee03855e9b39">SPC</a> <span class="stringliteral">&quot;World&quot;</span>);</div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Hello&quot;</span> <a class="code hl_typedef" href="group__StringOperators.html#ga84608e15108e0361ce63b906480a8181">NL</a> <span class="stringliteral">&quot;World&quot;</span>);</div>
<div class="line"> </div>
<div class="line">OUTPUT:</div>
<div class="line">HelloWorld</div>
<div class="line">Hello   World</div>
<div class="line">Hello World</div>
<div class="line">Hello</div>
<div class="line">World</div>
<div class="ttc" id="agroup__StringOperators_html_ga84608e15108e0361ce63b906480a8181"><div class="ttname"><a href="group__StringOperators.html#ga84608e15108e0361ce63b906480a8181">NL</a></div><div class="ttdeci">type NL</div><div class="ttdef"><b>Definition</b> core_ScriptBinding.dox:262</div></div>
<div class="ttc" id="agroup__StringOperators_html_gab83c1b39c9138720059c3f543a18cd55"><div class="ttname"><a href="group__StringOperators.html#gab83c1b39c9138720059c3f543a18cd55">TAB</a></div><div class="ttdeci">type TAB</div><div class="ttdef"><b>Definition</b> core_ScriptBinding.dox:235</div></div>
<div class="ttc" id="agroup__StringOperators_html_gabf1384363ad54002ac32ee03855e9b39"><div class="ttname"><a href="group__StringOperators.html#gabf1384363ad54002ac32ee03855e9b39">SPC</a></div><div class="ttdeci">type SPC</div><div class="ttdef"><b>Definition</b> core_ScriptBinding.dox:220</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md23"></a>
Booleans</h2>
<p>Like most programming languages, TorqueScript also supports Booleans. Boolean numbers have only two values- true or false.</p>
<pre>
true    (1)
false   (0)
</pre><p>Again, as in many programming languages the constant "true" evaluates to the number 1 in TorqueScript, and the constant "false" evaluates to the number 0. However, non-zero values are also considered true. Think of booleans as "on/off" switches, often used in conditional statements.</p>
<p>Example: </p><div class="fragment"><div class="line">$lightsOn = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span>($lightsOn)</div>
<div class="line">  <a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Lights are turned on&quot;</span>);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md24"></a>
Arrays</h2>
<p>Arrays are data structures used to store consecutive values of the same data type.</p>
<div class="fragment"><div class="line">$TestArray[n]   (Single-dimension)</div>
<div class="line">$TestArray[m,n] (Multidimensional)</div>
<div class="line">$TestArray[m_n] (Multidimensional)</div>
</div><!-- fragment --><p>If you have a list of similar variables you wish to store together, try using an array to save time and create cleaner code. The syntax displayed above uses the letters 'n' and 'm' to represent where you will input the number of elements in an array. The following example shows code that could benefit from an array:</p>
<p>Example: </p><div class="fragment"><div class="line">$firstUser = <span class="stringliteral">&quot;Heather&quot;</span>;</div>
<div class="line">$secondUser = <span class="stringliteral">&quot;Nikki&quot;</span>;</div>
<div class="line">$thirdUser = <span class="stringliteral">&quot;Mich&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>($firstUser);</div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>($secondUser);</div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>($thirdUser);</div>
</div><!-- fragment --><p>Instead of using a global variable for each user name, we can put those values into a single array:</p>
<p>Example: </p><div class="fragment"><div class="line">$userNames[0] = <span class="stringliteral">&quot;Heather&quot;</span>;</div>
<div class="line">$userNames[1] = <span class="stringliteral">&quot;Nikki&quot;</span>;</div>
<div class="line">$userNames[2] = <span class="stringliteral">&quot;Mich&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>($userNames[0]);</div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>($userNames[1]);</div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>($userNames[2]);</div>
</div><!-- fragment --><p>Now, let's break the code down. Like any other variable declaration, you can create an array by giving it a name and value:</p>
<div class="fragment"><div class="line">$userNames[0] = <span class="stringliteral">&quot;Heather&quot;</span>;</div>
</div><!-- fragment --><p>What separates an array declaration from a standard variable is the use of brackets []. The number you put between the brackets is called the index. The index will access a specific element in an array, allowing you to view or manipulate the data. All the array values are stored in consecutive order.</p>
<p>If you were able to see an array on paper, it would look something like this:</p>
<div class="fragment"><div class="line">[0] [1] [2]</div>
</div><!-- fragment --><p>In our example, the data looks like this:</p>
<div class="fragment"><div class="line">[<span class="stringliteral">&quot;Heather&quot;</span>] [<span class="stringliteral">&quot;Nikki&quot;</span>] [<span class="stringliteral">&quot;Mich&quot;</span>]</div>
</div><!-- fragment --><p>Like other programming languages, the index is always a numerical value and the starting index is always 0. Just remember, index 0 is always the first element in an array. As you can see in the above example, we create the array by assigning the first index (0) a string value ("Heather").</p>
<p>The next two lines continue filling out the array, progressing through the index consecutively.</p>
<div class="fragment"><div class="line">$userNames[1] = <span class="stringliteral">&quot;Nikki&quot;</span>;</div>
<div class="line">$userNames[2] = <span class="stringliteral">&quot;Mich&quot;</span>;</div>
</div><!-- fragment --><p>The second array element (index 1) is assigned a different string value ("Nikki"), as is the third (index 2). At this point, we still have a single array structure, but it is holding three separate values we can access. Excellent for organization.</p>
<p>The last section of code shows how you can access the data that has been stored in the array. Again, you use a numerical index to point to an element in the array. If you want to access the first element, use 0:</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>($userNames[0]);</div>
</div><!-- fragment --><p>In a later section, you will learn about looping structures that make using arrays a lot simpler. Before moving on, you should know that an array does not have to be a single, ordered list. TorqueScript also supports multidimensional arrays.</p>
<p>An single-dimensional array contains a single row of values. A multidimensional array is essentially an array of arrays, which introduces columns as well. The following is a visual of what a multidimensional looks like with three rows and three columns:</p>
<div class="fragment"><div class="line">[x] [x] [x]</div>
<div class="line">[x] [x] [x]</div>
<div class="line">[x] [x] [x]</div>
</div><!-- fragment --><p>Defining this kind of array in TorqueScript is simple. The following creates an array with 3 rows and 3 columns.</p>
<p>Example: </p><div class="fragment"><div class="line">$testArray[0,0] = <span class="stringliteral">&quot;a&quot;</span>;</div>
<div class="line">$testArray[0,1] = <span class="stringliteral">&quot;b&quot;</span>;</div>
<div class="line">$testArray[0,2] = <span class="stringliteral">&quot;c&quot;</span>;</div>
<div class="line"> </div>
<div class="line">$testArray[1,0] = <span class="stringliteral">&quot;d&quot;</span>;</div>
<div class="line">$testArray[1,1] = <span class="stringliteral">&quot;e&quot;</span>;</div>
<div class="line">$testArray[1,2] = <span class="stringliteral">&quot;f&quot;</span>;</div>
<div class="line"> </div>
<div class="line">$testArray[2,0] = <span class="stringliteral">&quot;g&quot;</span>;</div>
<div class="line">$testArray[2,1] = <span class="stringliteral">&quot;h&quot;</span>;</div>
<div class="line">$testArray[2,2] = <span class="stringliteral">&quot;i&quot;</span>;</div>
</div><!-- fragment --><p>Notice that we are are now using two indices, both starting at 0 and stopping at 2. We can use these as coordinates to determine which array element we are accessing:</p>
<div class="fragment"><div class="line">[0,0] [0,1] [0,2]</div>
<div class="line">[1,0] [1,1] [1,2]</div>
<div class="line">[2,0] [2,1] [2,2]</div>
</div><!-- fragment --><p>In our example, which progresses through the alphabet, you can visualize the data in the same way:</p>
<div class="fragment"><div class="line">[a] [b] [c]</div>
<div class="line">[d] [e] [f]</div>
<div class="line">[g] [h] [i]</div>
</div><!-- fragment --><p>The first element <code>[0,0]</code> points to the letter 'a'. The last element <code>[2,2]</code> points to the letter 'i'.</p>
<h2><a class="anchor" id="autotoc_md25"></a>
Vectors</h2>
<p>"Vectors" are a helpful data-type which are used throughout Torque 2D. For example, many fields on SceneObjects take numeric values in sets of 2 or 3. These are stored as strings and interpreted as "vectors".</p>
<div class="fragment"><div class="line"><span class="stringliteral">&quot;1.0 1.0&quot;</span>  (2 element vector)</div>
</div><!-- fragment --><p>The most common example of a vector would be a world position. Like most 2D coordinate systems, an object's position is stored as <code>(X Y)</code>. You can use a two element vector to hold this data:</p>
<p>Example: </p><div class="fragment"><div class="line">%position = <span class="stringliteral">&quot;25 32&quot;</span>;</div>
</div><!-- fragment --><p>You can separate the values using spaces or tabs (both are acceptable whitespace). Another example is storing color data in a four element vector. The values that make up a color are "Red Blue Green Alpha," which are all numbers. You can create a vector for color using hard numbers, or variables:</p>
<p>Example: </p><div class="fragment"><div class="line">%firstColor = <span class="stringliteral">&quot;100 100 100 1.0&quot;</span>;</div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(%firstColor);</div>
<div class="line"> </div>
<div class="line">%red = 128;</div>
<div class="line">%blue = 255;</div>
<div class="line">%green = 64;</div>
<div class="line">%alpha = 1.0;</div>
<div class="line"> </div>
<div class="line">%secondColor = %red <a class="code hl_typedef" href="group__StringOperators.html#gabf1384363ad54002ac32ee03855e9b39">SPC</a> %blue <a class="code hl_typedef" href="group__StringOperators.html#gabf1384363ad54002ac32ee03855e9b39">SPC</a> %green <a class="code hl_typedef" href="group__StringOperators.html#gabf1384363ad54002ac32ee03855e9b39">SPC</a> %alpha;</div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(%secondColor);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md26"></a>
Operators</h1>
<p>Operators in TorqueScript behave very similarly to operators in real world math and other programming languages. You should recognize quite a few of these from math classes you took in school, but with small syntactical changes. The rest of this section will explain the syntax and show a brief example, but we will cover these in depth in later guides.</p>
<p><b>Arithmetic Operators</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Operator   </th><th class="markdownTableHeadCenter">Name   </th><th class="markdownTableHeadCenter">Example   </th><th class="markdownTableHeadNone">Explanation    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">*   </td><td class="markdownTableBodyCenter">multiplication   </td><td class="markdownTableBodyCenter"><code>$a * $b</code>   </td><td class="markdownTableBodyNone">Multiply $a and $b.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">/   </td><td class="markdownTableBodyCenter">division   </td><td class="markdownTableBodyCenter"><code>$a / $b</code>   </td><td class="markdownTableBodyNone">Divide $a by $b.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">%   </td><td class="markdownTableBodyCenter">modulo   </td><td class="markdownTableBodyCenter"><code>$a % $b</code>   </td><td class="markdownTableBodyNone">Remainder of $a divided by $b.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">+   </td><td class="markdownTableBodyCenter">addition   </td><td class="markdownTableBodyCenter"><code>$a + $b</code>   </td><td class="markdownTableBodyNone">Add $a and $b.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyCenter">subtraction   </td><td class="markdownTableBodyCenter"><code>$a - $b</code>   </td><td class="markdownTableBodyNone">Subtract $b from $a.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">++   </td><td class="markdownTableBodyCenter">auto-increment (post-fix only)   </td><td class="markdownTableBodyCenter">$a++   </td><td class="markdownTableBodyNone">Increment $a. The value of $a++ is that of the incremented variable: auto-increment is post-fix in syntax, but pre-increment in sematics (the variable is incremented, before the return value is calculated). This behavior is unlike that of C and C++.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">--   </td><td class="markdownTableBodyCenter">auto-decrement (post-fix only)   </td><td class="markdownTableBodyCenter">$b--   </td><td class="markdownTableBodyNone">Decrement $b. The value of $a-- is that of the decremented variable: auto-decrement is post-fix in syntax, but pre-decrement in sematics (the variable is decremented, before the return value is calculated). This behavior is unlike that of C and C++.   </td></tr>
</table>
<p><b>Relational Operators</b></p>
<p>Used in comparing values and variables against each other. Relations can be arithmetic, logical, and string:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Operator   </th><th class="markdownTableHeadCenter">Name   </th><th class="markdownTableHeadCenter">Example   </th><th class="markdownTableHeadNone">Explanation    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>&lt;</code>   </td><td class="markdownTableBodyCenter">Less than   </td><td class="markdownTableBodyCenter"><code>$a &lt; $b</code>   </td><td class="markdownTableBodyNone">1 if $a is less than $b (0 otherwise.)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>&gt;</code>   </td><td class="markdownTableBodyCenter">More than   </td><td class="markdownTableBodyCenter"><code>$a &gt; $b</code>   </td><td class="markdownTableBodyNone">1 if $a is greater than $b (0 otherwise.)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>&lt;=</code>   </td><td class="markdownTableBodyCenter">Less than or Equal to   </td><td class="markdownTableBodyCenter"><code>$a &lt;= $b</code>   </td><td class="markdownTableBodyNone">1 if $a is less than or equal to $b (0 otherwise.)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>&gt;=</code>   </td><td class="markdownTableBodyCenter">More than or Equal to   </td><td class="markdownTableBodyCenter"><code>$a &gt;= $b</code>   </td><td class="markdownTableBodyNone">1 if $a is greater than or equal to $b (0 otherwise.)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>==</code>   </td><td class="markdownTableBodyCenter">Equal to   </td><td class="markdownTableBodyCenter"><code>$a == $b</code>   </td><td class="markdownTableBodyNone">1 if $a is equal to $b (0 otherwise.)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>!=</code>   </td><td class="markdownTableBodyCenter">Not equal to   </td><td class="markdownTableBodyCenter"><code>$a != $b</code>   </td><td class="markdownTableBodyNone">1 if $a is not equal to % b (0 otherwise.)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>!</code>   </td><td class="markdownTableBodyCenter">Logical NOT   </td><td class="markdownTableBodyCenter"><code>!$a</code>   </td><td class="markdownTableBodyNone">1 if $a is 0 (0 otherwise.)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>&amp;&amp;</code>   </td><td class="markdownTableBodyCenter">Logical AND   </td><td class="markdownTableBodyCenter"><code>$a &amp;&amp; $b</code>   </td><td class="markdownTableBodyNone">1 if $a and $b are both non-zero (0 otherwise.)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>$=</code>   </td><td class="markdownTableBodyCenter">String equal to   </td><td class="markdownTableBodyCenter"><code>$c $= $d</code>   </td><td class="markdownTableBodyNone">1 if $c equal to $d .    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>!$=</code>   </td><td class="markdownTableBodyCenter">String not equal to   </td><td class="markdownTableBodyCenter"><code>$c !$= $d</code>   </td><td class="markdownTableBodyNone">1 if $c not equal to $d.   </td></tr>
</table>
<p>One additional operator is the logical OR, represented by <code>||</code>. Example:</p>
<div class="fragment"><div class="line">$a || $b</div>
</div><!-- fragment --><p> OR will return 1 if either <code>$a</code> or <code>$b</code> is non-zero (0 otherwise.)</p>
<p><b>Bitwise Operators</b></p>
<p>Used for comparing and shifting bits</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Operator   </th><th class="markdownTableHeadCenter">Name   </th><th class="markdownTableHeadCenter">Example   </th><th class="markdownTableHeadNone">Explanation    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">~   </td><td class="markdownTableBodyCenter">Bitwise complement   </td><td class="markdownTableBodyCenter">~$a   </td><td class="markdownTableBodyNone">flip bits 1 to 0 and 0 to 1. (i.e. ~10b == 01b)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter" rowspan="2">&amp;   </td><td class="markdownTableBodyCenter">Bitwise AND   </td><td class="markdownTableBodyCenter">$a &amp; $b   </td><td class="markdownTableBodyNone">composite of elements where bits in same position are 1. (i.e. 1b &amp; 1b == 1b)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Bitwise XOR   </td><td class="markdownTableBodyCenter">$a ^ $b   </td><td class="markdownTableBodyNone">composite of elements where bits in same position are opposite. (i.e. 100b &amp; 101b == 001b)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">&lt;&lt;   </td><td class="markdownTableBodyCenter">Left Shift   </td><td class="markdownTableBodyCenter">$a &lt;&lt; 3   </td><td class="markdownTableBodyNone">element shifted left by 3 and padded with zeros. (i.e. 11b &lt;&lt; 3d == 11000b)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">&gt;&gt;   </td><td class="markdownTableBodyCenter">Right Shift   </td><td class="markdownTableBodyCenter">$a &gt;&gt; 3   </td><td class="markdownTableBodyNone">element shifted right by 3 and padded with zeros. (i.e. 11010b &gt;&gt; 3d == 00011b)   </td></tr>
</table>
<p>One additional operator is the bitwise OR, represented by <code>|</code>. Example:</p>
<div class="fragment"><div class="line">$a | $b</div>
</div><!-- fragment --><p> This will return composite of elements where bits 1 in either of the two elements. (i.e. <code>100b &amp; 001b == 101b</code>).</p>
<p><b>Assignment Operators</b></p>
<p>Used for setting the value of variables.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Operator   </th><th class="markdownTableHeadCenter">Name   </th><th class="markdownTableHeadCenter">Example   </th><th class="markdownTableHeadNone">Explanation    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Assignment   </td><td class="markdownTableBodyCenter">$a = $b;   </td><td class="markdownTableBodyCenter">Assign value of $b to $a.   </td><td class="markdownTableBodyNone">Note: the value of an assignment is the value being assigned, so $a = $b = $c is legal.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">op=   </td><td class="markdownTableBodyCenter">Assignment Operators   </td><td class="markdownTableBodyCenter">$a op= $b;   </td><td class="markdownTableBodyNone">Equivalent to $a = $a op $b, where op can be any of: <code>*</code> <code>/</code> <code>%</code> <code>+</code> <code>-</code> <code>&amp;</code> <code>^</code> <code>&lt;&lt;</code> <code>&gt;&gt;</code> |   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md27"></a>
Control Statements</h1>
<p>TorqueScript provides basic branching structures that will be familiar to programmers that have used other languages. If you are completely new to programming, you use branching structures to control your game's flow and logic. This section builds on everything you have learned about TorqueScript so far.</p>
<h2><a class="anchor" id="autotoc_md28"></a>
if, then, else</h2>
<p>This type of structure is used to test a condition, then perform certain actions if the condition passes or fails. You do not always have to use the full structure, but the following syntax shows the extent of the conditional:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span>(&lt;<span class="keywordtype">boolean</span> expression&gt;) </div>
<div class="line">{</div>
<div class="line">   pass logic</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span> </div>
<div class="line">{</div>
<div class="line">   alternative logic</div>
<div class="line">}</div>
</div><!-- fragment --><p>Remember how boolean values work? Essentially, a bool can either be true (1) or false (0). The condition (boolean) is always typed into the parenthesis after the "if" syntax. Your logic will be typed within the brackets {}. The following example uses specific variable names and conditions to show how this can be used:</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="comment">// Global variable that controls lighting</span></div>
<div class="line">$lightsShouldBeOn = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check to see if lights should be on or off</span></div>
<div class="line"><span class="keywordflow">if</span>($lightsShouldBeOn)</div>
<div class="line">{</div>
<div class="line">   <span class="comment">// True. Call turn on lights function</span></div>
<div class="line">   turnOnLights();</div>
<div class="line"> </div>
<div class="line">   <a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Lights have been turned on&quot;</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">   <span class="comment">// False. Turn off the lights</span></div>
<div class="line">   turnOffLights();</div>
<div class="line"> </div>
<div class="line">   <a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Lights have been turned off&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Brackets for single line statements are optional. If you are thinking about adding additional logic to the code, then you should use the brackets anyway. If you know you will only use one logic statement, you can use the following syntax:</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="comment">// Global variable that controls lighting</span></div>
<div class="line">$lightsShouldBeOn = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check to see if lights should be on or off</span></div>
<div class="line"><span class="keywordflow">if</span>($lightsShouldBeOn)</div>
<div class="line">  turnOnLights();   <span class="comment">// True. Call turn on lights function</span></div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">  turnOffLights(); <span class="comment">// False. Turn off the lights</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md29"></a>
switch and switch$</h2>
<p>If your code is using several cascading if-then-else statements based on a single value, you might want to use a switch statement instead. Switch statements are easier to manage and read. There are two types of switch statements, based on data type: numeric (<code>switch</code>) and string (<code>switch$</code>).</p>
<p>Switch Syntax: </p><div class="fragment"><div class="line"><span class="keywordflow">switch</span>(&lt;numeric expression&gt;) </div>
<div class="line">{</div>
<div class="line">   <span class="keywordflow">case</span> value0:</div>
<div class="line">       statements;</div>
<div class="line">   <span class="keywordflow">case</span> value1:</div>
<div class="line">       statements;</div>
<div class="line">   <span class="keywordflow">case</span> value3:</div>
<div class="line">       statements;</div>
<div class="line">   <span class="keywordflow">default</span>:</div>
<div class="line">       statements;</div>
<div class="line">}</div>
</div><!-- fragment --><p>As the above code demonstrates, start by declaring the switch statement by passing in a value to the <code>switch(...)</code> line. Inside of the brackets <code>{}</code>, you will list out all the possible cases that will execute based on what value being tested. It is wise to always use the default case, anticipating rogue values being passed in.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="keywordflow">switch</span>($ammoCount)</div>
<div class="line">{</div>
<div class="line">   <span class="keywordflow">case</span> 0:</div>
<div class="line">      <a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Out of ammo, time to reload&quot;</span>);</div>
<div class="line">      reloadWeapon();</div>
<div class="line">   <span class="keywordflow">case</span> 1:</div>
<div class="line">      <a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Almost out of ammo, warn user&quot;</span>);</div>
<div class="line">      lowAmmoWarning();</div>
<div class="line">   <span class="keywordflow">case</span> 100:</div>
<div class="line">      <a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Full ammo count&quot;</span>);</div>
<div class="line">      playFullAmmoSound();</div>
<div class="line">   <span class="keywordflow">default</span>:</div>
<div class="line">      doNothing();</div>
<div class="line">}</div>
</div><!-- fragment --><p><code>switch</code> only properly evaluates numerical values. If you need a switch statement to handle a string value, you will want to use <code>switch$</code>. The <code>switch$</code> syntax is similar to what you just learned:</p>
<p>Switch$ Syntax: </p><div class="fragment"><div class="line">switch$ (&lt;<span class="keywordtype">string</span> expression&gt;) </div>
<div class="line">{</div>
<div class="line">   <span class="keywordflow">case</span> <span class="stringliteral">&quot;string value 0&quot;</span>:</div>
<div class="line">       statements;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">case</span> <span class="stringliteral">&quot;string value 1&quot;</span>:</div>
<div class="line">       statements;</div>
<div class="line">...</div>
<div class="line">   <span class="keywordflow">case</span> <span class="stringliteral">&quot;string value N&quot;</span>:</div>
<div class="line">       statements;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">default</span>:</div>
<div class="line">       statements;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Appending the <code>$</code> sign to switch will immediately cause the parameter passed in to be parsed as a string. The following code applies this logic:</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="comment">// Print out specialties</span></div>
<div class="line"><span class="keywordflow">switch</span>($userName)</div>
<div class="line">{</div>
<div class="line">   <span class="keywordflow">case</span> <span class="stringliteral">&quot;Heather&quot;</span>:</div>
<div class="line">      <a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Sniper&quot;</span>);</div>
<div class="line">   <span class="keywordflow">case</span> <span class="stringliteral">&quot;Nikki&quot;</span>:</div>
<div class="line">      <a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Demolition&quot;</span>);</div>
<div class="line">   <span class="keywordflow">case</span> <span class="stringliteral">&quot;Mich&quot;</span>:</div>
<div class="line">      <a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Meat shield&quot;</span>);</div>
<div class="line">   <span class="keywordflow">default</span>:</div>
<div class="line">      <a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Unknown user&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md30"></a>
Loops</h1>
<p>As the name implies, this structure type is used to repeat logic in a loop based on an expression. The expression is usually a set of variables that increase by count, or a constant variable changed once a loop has hit a specific point.</p>
<h2><a class="anchor" id="autotoc_md31"></a>
For Loop</h2>
<div class="fragment"><div class="line"><span class="keywordflow">for</span>(expression0; expression1; expression2) </div>
<div class="line">{</div>
<div class="line">    statement(s);</div>
<div class="line">}</div>
</div><!-- fragment --><p>One way to label the expressions in this syntax are <code>(startExpression; testExpression; countExpression)</code>. Each expression is separated by a semi-colon.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="keywordflow">for</span>(%count = 0; %count &lt; 3; %count++) </div>
<div class="line">{</div>
<div class="line">    <a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(%count);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">OUTPUT:</div>
<div class="line">0</div>
<div class="line">1</div>
<div class="line">2</div>
</div><!-- fragment --><p>The first expression creates the local variable <code>count</code> and initializing it to 0. In the second expression determines when to stop looping, which is when the <code>count</code> is no longer less than 3. Finally, the third expression increases the count the loop relies on.</p>
<h2><a class="anchor" id="autotoc_md32"></a>
While Loop</h2>
<p>A while loop is a much simpler looping structure compared to a for loop.</p>
<div class="fragment"><div class="line"><span class="keywordflow">while</span>(expression) </div>
<div class="line">{</div>
<div class="line">    statements;</div>
<div class="line">}</div>
</div><!-- fragment --><p>As soon as the expression is met, the while loop will terminate:</p>
<p>Example: </p><div class="fragment"><div class="line">%countLimit = 0;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">while</span>(%countLimit &lt;= 5)</div>
<div class="line">{</div>
<div class="line">   <a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Still in loop&quot;</span>);</div>
<div class="line">   %count++;</div>
<div class="line">}</div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Loop was terminated&quot;</span>);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md33"></a>
Functions</h1>
<p>Much of your TorqueScript experience will come down to calling existing functions and writing your own. Functions are a blocks of code that only execute when you call them by name. Basic functions in TorqueScript are defined as follows:</p>
<div class="fragment"><div class="line"><span class="comment">// function - Is a keyword telling TorqueScript we are defining a new function.</span></div>
<div class="line"><span class="comment">// function_name - Is the name of the function we are creating.</span></div>
<div class="line"><span class="comment">// ... - Is any number of additional arguments.</span></div>
<div class="line"><span class="comment">// statements - Your custom logic executed when function is called</span></div>
<div class="line"><span class="comment">// return val - The value the function will give back after it has completed. Optional.</span></div>
<div class="line"> </div>
<div class="line">function function_name([arg0],...,[argn]) </div>
<div class="line">{</div>
<div class="line">    statements;</div>
<div class="line">    [<span class="keywordflow">return</span> val;]</div>
<div class="line">}</div>
</div><!-- fragment --><p>The <code>function</code> keyword, like other TorqueScript keywords, is case sensitive. You must type it exactly as shown above. The following is an example of a custom function that takes in two parameters, then executes code based on those arguments.</p>
<p>TorqueScript can take any number of arguments, as long as they are comma separated. If you call a function and pass fewer parameters than the function's definition specifies, the un-passed parameters will be given an empty string as their default value.</p>
<p>Example: </p><div class="fragment"><div class="line">function echoRepeat (%echoString, %repeatCount) </div>
<div class="line">{</div>
<div class="line">   <span class="keywordflow">for</span> (%count = 0; %count &lt; %repeatCount; %count++)</div>
<div class="line">   {</div>
<div class="line">      <a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(%echoString);</div>
<div class="line">   }</div>
<div class="line">}</div>
</div><!-- fragment --><p> You can cause this function to execute by calling it in the console, or in another function:</p>
<div class="fragment"><div class="line">echoRepeat(<span class="stringliteral">&quot;hello!&quot;</span>, 5);</div>
<div class="line"> </div>
<div class="line">OUTPUT:</div>
<div class="line"><span class="stringliteral">&quot;hello!&quot;</span></div>
<div class="line"><span class="stringliteral">&quot;hello!&quot;</span></div>
<div class="line"><span class="stringliteral">&quot;hello!&quot;</span></div>
<div class="line"><span class="stringliteral">&quot;hello!&quot;</span></div>
<div class="line"><span class="stringliteral">&quot;hello!&quot;</span></div>
</div><!-- fragment --><p>If you define a function and give it the same name as a previously defined function, TorqueScript will completely override the old function. This still applies even if you change the number of parameters used; the older function will still be overridden.</p>
<p><b>Console Methods</b> Console Methods are C++ functions that have been exposed to TorqueScript, which are attached to specific objects.</p>
<p><b>Console Functions</b> Console Functions are written in C++, then exposed to TorqueScript. These are global functions you can call at any time, and are usually very helpful or important. Throughout this document, I have been using a ConsoleFunction: <code>echo(...)</code>. The <code>echo</code> function definition exists in C++:</p>
<p>C++ echo:</p>
<div class="fragment"><div class="line">ConsoleFunction(<a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>, <span class="keywordtype">void</span>, 2, 0, <span class="stringliteral">&quot;echo(text [, ... ])&quot;</span>)</div>
<div class="line">{</div>
<div class="line">   U32 len = 0;</div>
<div class="line">   S32 i;</div>
<div class="line">   <span class="keywordflow">for</span>(i = 1; i &lt; argc; i++)</div>
<div class="line">      len += dStrlen(argv[i]);</div>
<div class="line"> </div>
<div class="line">   <span class="keywordtype">char</span> *ret = Con::getReturnBuffer(len + 1);</div>
<div class="line">   ret[0] = 0;</div>
<div class="line">   <span class="keywordflow">for</span>(i = 1; i &lt; argc; i++)</div>
<div class="line">      dStrcat(ret, argv[i]);</div>
<div class="line"> </div>
<div class="line">   Con::printf(<span class="stringliteral">&quot;%s&quot;</span>, ret);</div>
<div class="line">   ret[0] = 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Instead of having to write that out every time, or create a TorqueScript equivalent, the ConsoleFunction macro in C++ exposes the command for you. This is much cleaner, and more convenient. We will cover all the ConsoleFunctions later.</p>
<p><b>Objects</b> The most complex aspect of TorqueScript involves dealing with game objects. One thing to remember is that everything in TorqueScript is a string. However, when accessing a sprite, sceneObject, or any other object, a string is converted to an object ID under the hood.</p>
<p><em>Syntax</em> Even though objects are originally created in C++, they are exposed to script in a way that allows them to be declared using the following syntax:</p>
<p>Object Definition: </p><div class="fragment"><div class="line"><span class="comment">// In TorqueScript</span></div>
<div class="line">%objectID = <span class="keyword">new</span> ObjectType(Name) </div>
<div class="line">{   </div>
<div class="line">   [existing_field0 = InitialValue0;]</div>
<div class="line">   ...</div>
<div class="line">   [existing_fieldN = InitialValueN;]</div>
<div class="line"> </div>
<div class="line">   [dynamic_field0 = InitialValue0;]</div>
<div class="line">   ...</div>
<div class="line">   [dynamic_fieldN = InitialValueN;]</div>
<div class="line">};</div>
</div><!-- fragment --><p>Syntax Breakdown:</p>
<p><b>objectID</b> - Is the variable where the object's handle will be stored. new - Is a key word telling the engine to create an instance of the following ObjectType.</p>
<p><b>ObjectType</b> - Is any class declared in the engine or in script that has been derived from <a class="el" href="classSimObject.html">SimObject</a> or a subclass of <a class="el" href="classSimObject.html">SimObject</a>. SimObject-derived objects are what we were calling "game world objects" above.</p>
<p><b>Name (optional)</b> - Is any expression evaluating to a string, which will be used as the object's name.</p>
<p><b>existing_fieldN</b> - You may initialize existing class members (fields) here. Note: In order to modify a member of a C++-defined class, the member must be exposed to the Console. This concept is discussed in detail later.</p>
<p><b>dynamic_fieldN</b> - Lastly, you may create new fields (which will exist only in Script) for your new object. These are unique to the instance of the object you are creating.</p>
<p><b>Handles vs Names</b> Every game object added to a level can be accessed by two parameters:</p>
<p><b>Handle</b> - A unique numeric ID generated when the object is created</p>
<p><b>Name</b> - This is an optional parameter given to an object when it is created.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="comment">// In this example, Truck is the name of the object</span></div>
<div class="line"><span class="keyword">new</span> <a class="code hl_class" href="classSceneObject.html">SceneObject</a>(Truck) </div>
<div class="line">{</div>
<div class="line">   position = <span class="stringliteral">&quot;0 0&quot;</span>;</div>
<div class="line">   size = <span class="stringliteral">&quot;5 5&quot;</span>;</div>
<div class="line">};</div>
<div class="ttc" id="aclassSceneObject_html"><div class="ttname"><a href="classSceneObject.html">SceneObject</a></div><div class="ttdef"><b>Definition</b> SceneObject_ScriptBinding.h:36</div></div>
</div><!-- fragment --><p><b>Object Fields</b> Objects instantiated via script may have data members (referred to as Fields)</p>
<p><b>Methods</b> In addition to the creation of stand-alone functions, TorqueScript allows you to create and call methods attached to objects. Some of the more important ConsoleMethods are already written in C++, then exposed to script. You can call these methods by using the dot (.) notation.</p>
<p>Syntax: </p><div class="fragment"><div class="line">objHandle.function_name();</div>
<div class="line"> </div>
<div class="line">objName.function_name();</div>
</div><!-- fragment --><p>Example: </p><div class="fragment"><div class="line"><span class="keyword">new</span> <a class="code hl_class" href="classSceneObject.html">SceneObject</a>(Truck) </div>
<div class="line">{</div>
<div class="line">   position = <span class="stringliteral">&quot;0 0&quot;</span>;</div>
<div class="line">   size = <span class="stringliteral">&quot;5 5&quot;</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Write all the objects methods to the console log</span></div>
<div class="line">Truck.dump();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Get the ID of an object, using the object&#39;s name</span></div>
<div class="line">$objID = Truck.getID();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Print the ID to the console</span></div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Object ID: &quot;</span>, $objID);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Get the object&#39;s position, using the object&#39;s handle</span></div>
<div class="line">%position = $objID.getPosition();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Print the position to the console</span></div>
<div class="line"><a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Object Position: &quot;</span>, %position);</div>
</div><!-- fragment --><p>The above example shows how you can call an object's method by using its name or a variable containing its handle (unique ID number). Additionally, TorqueScript supports the creation of methods that have no associated C++ counterpart.</p>
<p>Syntax:</p>
<div class="fragment"><div class="line"><span class="comment">// function - Is a keyword telling TorqueScript we are defining a new function.</span></div>
<div class="line"><span class="comment">// ClassName::- Is the class type this function is supposed to work with.</span></div>
<div class="line"><span class="comment">// function_name - Is the name of the function we are creating.</span></div>
<div class="line"><span class="comment">// ... - Is any number of additional arguments.</span></div>
<div class="line"><span class="comment">// statements - Your custom logic executed when function is called</span></div>
<div class="line"><span class="comment">// %this- Is a variable that will contain the handle of the &#39;calling object&#39;.</span></div>
<div class="line"><span class="comment">// return val - The value the function will give back after it has completed. Optional.</span></div>
<div class="line">function Classname::func_name(%<span class="keyword">this</span>, [arg0],...,[argn]) </div>
<div class="line">{</div>
<div class="line">   statements;</div>
<div class="line">   [<span class="keywordflow">return</span> val;]</div>
<div class="line">}</div>
</div><!-- fragment --><p>At a minimum, Console Methods require that you pass them an object handle. You will often see the first argument named this. People use this as a hint, but you can name it anything you want. As with Console functions any number of additional arguments can be specified separated by commas.</p>
<p>As a simple example, let's say there is an object called Samurai, derived from the Player class. It is likely that a specific appearance and play style will be given to the samurai, so custom ConsoleMethods can be written. Here is a sample:</p>
<p>Example: </p><div class="fragment"><div class="line">function Samurai::sheatheSword(%<span class="keyword">this</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_function" href="group__ConsoleOutput.html#gadc918a80dc292eeae84dcca04998faba">echo</a>(<span class="stringliteral">&quot;Katana sheathed&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p>When you create a Samurai object, it will be given an ID. Let's pretend the handle (ID number) is <code>1042</code>. We can call its ConsoleMethod once it is defined, using the period syntax:</p>
<p>Example: </p><div class="fragment"><div class="line">1042.sheatheSword();</div>
<div class="line"> </div>
<div class="line">OUTPUT: <span class="stringliteral">&quot;Katana sheathed&quot;</span></div>
</div><!-- fragment --><p>Notice that no parameters were passed into the function. The <code>this</code> parameter is inherent, and the original function did not require any other parameters.</p>
<h1><a class="anchor" id="autotoc_md34"></a>
Conclusion</h1>
<p>This guide covered the basics of TorqueScript syntax. Compared to other languages, such as C++, it is easier to learn and work with. However, no one is expected to become a TorqueScript master over night, or even in a week. You will most likely need to refer back to this documentation several times for reminders. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
